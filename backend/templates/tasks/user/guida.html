{% extends 'base/user_base.html' %}
{% load static %}
{% block content %}
<div class="guida-page">

    <!-- Bottone per tornare in alto con icona Lucide -->
    <button id="scrollTopBtn" title="Torna su">
        <i data-lucide="arrow-up"></i>
    </button>

    <!-- Indice cliccabile -->
    <section class="guida-blocco">
        <h2>ğŸ“˜ Guida all'app ToDo</h2>
        <p>Benvenuto! Usa l'indice qui sotto per navigare la guida:</p>
        <ul>
            <li>ğŸ¯ <a href="#tour">Tour interattivo</a></li>
            <li>ğŸ’ <a href="#cosetodo">Cos'Ã¨ ToDo</a></li>
            <li>ğŸš€ <a href="#comeusarla">Come usare tutte le funzionalitÃ </a></li>
            <li>ğŸ“… <a href="#calendario">Il calendario</a></li>
            <li>ğŸ›  <a href="#funzioni">FunzionalitÃ  principali</a></li>
            <li>ğŸ” <a href="#sicurezza">Sicurezza</a></li>
            <li>ğŸ“± <a href="#dispositivi">AccessibilitÃ </a></li>
            <li>ğŸ“¬ <a href="#supporto">Supporto</a></li>
            <li>ğŸ§± <a href="#profilo">Profilo utente</a></li>
            <li>ğŸ”µ <a href="#online">Area Online e Amicizie</a></li>
            <li>ğŸ‘¥ <a href="#team">Team e collaborazione</a></li>
            <li>ğŸ“Š <a href="#adminteam">Dashboard Team Admin</a></li>
            <li>ğŸ§© <a href="#prossime">Prossime funzionalitÃ </a></li>
            <li>â“ <a href="#qa">Domande e Risposte</a></li>
        </ul>
        <a href="{% url 'tasks:home' %}" class="btn-admin">ğŸ  Torna alla Home</a>
    </section>

    <section class="guida-blocco" id="tour">
        <h3>ğŸ¯ Ripeti il tour interattivo</h3>
        <p>Hai bisogno di un ripasso? Clicca qui sotto per rivedere il tour guidato dell'app!</p>
        <a href="{% url 'tasks:home' %}?tour=1" class="btn-admin">ğŸ”„ Avvia il tour</a>
        <ul>
            <li>ğŸ“‹ Crea le tue liste di attivitÃ  in pochi tap</li>
            <li>ğŸ“Œ Organizza le attivitÃ  per prioritÃ  e scadenza</li>
            <li>ğŸ”” Ricevi promemoria intelligenti</li>
            <li>ğŸ—‚ Personalizza e filtra come preferisci</li>
        </ul>
        <p>â¡ <a href="#comeusarla">Approfondisci nella sezione "Come usarla"</a></p>
    </section>

    <section class="guida-blocco" id="cosetodo">
        <h3>ğŸ’ Cos'Ã¨ ToDo</h3>
        <p>ToDo Ã¨ la tua assistente digitale per l'organizzazione personale. Con un'interfaccia semplice e intuitiva, ti aiuta a gestire attivitÃ , scadenze e obiettivi. Tutto Ã¨ pensato per essere accessibile ovunque, con il massimo controllo e senza stress.</p>
        <p><strong>PerchÃ© usare ToDo?</strong><br>Con ToDo puoi tenere traccia di tutto ciÃ² che devi fare: dal lavoro quotidiano alla lista della spesa, dai progetti importanti ai promemoria personali.</p>
        <p><strong>Esempi d'uso:</strong></p>
        <ul>
            <li>ğŸ›’ Lista spesa settimanale</li>
            <li>ğŸ“š Organizzare i compiti scolastici</li>
            <li>ğŸ“† Pianificare eventi o appuntamenti</li>
            <li>ğŸ§˜ AttivitÃ  quotidiane personali o di benessere</li>
        </ul>
    </section>

    <section class="guida-blocco" id="comeusarla">
        <h3>ğŸš€ Come usare tutte le funzionalitÃ  al meglio</h3>

        <h4>ğŸ“ Aggiungere e gestire attivitÃ </h4>
        <ul>
            <li>Tocca il pulsante <strong>+</strong> in basso</li>
            <li>Scrivi un titolo chiaro (es. "Inviare fattura")</li>
            <li>Imposta una prioritÃ  e una scadenza</li>
            <li>Salva!</li>
        </ul>
        <div class="guida-tip">ğŸ’¡ <strong>Consiglio:</strong> usa titoli con verbi per trovarli meglio (es. "Studiare matematica")</div>

        <h4>ğŸ“… Usare il calendario</h4>
        <p>La vista calendario ti mostra tutte le attivitÃ  distribuite nel mese. Colori diversi ti aiutano a distinguere le prioritÃ . Clicca su un'attivitÃ  per modificarla rapidamente.</p>

        <h4>â° Impostare promemoria</h4>
        <p>Quando crei un'attivitÃ , puoi ricevere notifiche all'orario che preferisci. Ricorda di autorizzare le notifiche sul dispositivo!</p>
        <div class="guida-tip">ğŸ”” <strong>Nota:</strong> puoi impostare notifiche giornaliere anche per attivitÃ  ricorrenti.</div>

        <h4>âœ… Completare e riaprire attivitÃ </h4>
        <p>Cliccando sulla spunta puoi segnare l'attivitÃ  come completata. Se cambi idea, puoi ripristinarla in ogni momento.</p>

        <h4>ğŸ§  Consigli utili</h4>
        <ul>
            <li>Filtra per prioritÃ  se hai troppi task</li>
            <li>Usa la ricerca per trovare rapidamente vecchie attivitÃ </li>
            <li>Controlla ogni mattina la scadenza giornaliera</li>
        </ul>
    </section>

    <section class="guida-blocco" id="calendario">
        <h3>ğŸ“… Il potere del calendario</h3>
        <p>Il calendario integrato mostra tutti i tuoi task in formato mensile. I colori indicano la prioritÃ . Clicca su ogni evento per modificarlo al volo.</p>
    </section>

    <section class="guida-blocco" id="funzioni">
        <h3>ğŸ›  FunzionalitÃ  principali</h3>
        <ul>
            <li><strong>Nuova attivitÃ </strong>: Inserisci titolo, scadenza, prioritÃ  e salva</li>
            <li><strong>Filtri</strong>: Visualizza solo attivitÃ  completate, da fare o urgenti</li>
            <li><strong>Modifica</strong>: Cambia attivitÃ  in ogni momento</li>
            <li><strong>Profilo</strong>: Gestisci i tuoi dati personali</li>
        </ul>
    </section>

    <section class="guida-blocco" id="sicurezza">
        <h3>ğŸ” Sicurezza dei dati</h3>
        <p>Solo tu puoi vedere e gestire le tue attivitÃ . Ogni azione Ã¨ protetta dal login e i dati sono associati al tuo account personale.</p>
    </section>

    <section class="guida-blocco" id="dispositivi">
        <h3>ğŸ“± AccessibilitÃ  ovunque</h3>
        <p>ToDo funziona su tutti i dispositivi connessi a internet. Nessuna app da installare: ti basta un browser!</p>
    </section>

    <section class="guida-blocco" id="supporto">
        <h3>ğŸ“¬ Supporto</h3>
        <p>Dubbi o problemi? Scrivici a <a href="mailto:support@todoapp.dev">support@todoapp.dev</a></p>
    </section>

    <section class="guida-blocco" id="profilo">
        <h3>ğŸ§± Gestione del profilo</h3>
        <p>Dal menu utente accedi alla sezione <strong>Profilo</strong>, dove puoi:</p>
        <ul>
            <li>ğŸ“· Cambiare il tuo avatar</li>
            <li>ğŸ‘¤ Aggiornare nome e email</li>
            <li>ğŸ”Œ Impostare il tuo stato: Online, Offline o Non disturbare</li>
        </ul>
        <p>Lo stato verrÃ  mostrato agli amici nell'area online.</p>
    </section>

    <section class="guida-blocco" id="online">
        <h3>ğŸ”µ Area Online e Amicizie</h3>
        <p>Nella sezione <strong>Online</strong>, puoi cercare altri utenti per creare una rete di amicizie:</p>
        <ul>
            <li>ğŸ‘¥ Cerca un utente dalla barra di ricerca</li>
            <li>âœ‰ Invia una richiesta di amicizia</li>
            <li>âœ” Accetta o rifiuta le richieste ricevute</li>
            <li>âº Visualizza lo stato (Online/Offline/Non disturbare)</li>
        </ul>
        <p>Presto potrai condividere task direttamente con i tuoi amici!</p>
    </section>

    <section class="guida-blocco" id="team">
        <h3>ğŸ‘¥ Team e collaborazione</h3>
        <p>Vuoi lavorare in gruppo? Puoi creare un team e invitare altri utenti:</p>
        <ul>
            <li>ğŸŒ Crea un team dalla sezione <strong>Team</strong></li>
            <li>â• Invita persone nel tuo team</li>
            <li>âœ… I membri possono creare, modificare e completare task</li>
        </ul>
        <p>Ogni membro ha visione completa delle attivitÃ  del team.</p>
    </section>

    <section class="guida-blocco" id="adminteam">
        <h3>ğŸ“Š Dashboard Admin del Team</h3>
        <p>Come <strong>Admin di un team</strong>, hai funzionalitÃ  avanzate:</p>
        <ul>
            <li>ğŸ”„ Visualizza dashboard e grafici di sintesi</li>
            <li>âŒ Rimuovi membri se necessario</li>
            <li>ğŸ“Š Monitora l'attivitÃ  generale del gruppo</li>
        </ul>
        <p>Le dashboard admin ti aiutano a gestire meglio i progetti collaborativi.</p>
    </section>

    <section class="guida-blocco" id="prossime">
        <h3>ğŸ§± Prossime funzionalitÃ </h3>
        <ul>
            <li>Task condivisi con amici/colleghi</li>
            <li>Notifiche tra amici (es. richieste accettate, messaggi)</li>
            <li>Tag e categorie personalizzabili</li>
            <li>Temi grafici e modalitÃ  notturna</li>
            <li>Esportazione e backup</li>
        </ul>
    </section>

    <section class="guida-blocco" id="qa">
        <h3>â” Domande & Risposte</h3>
        <details>
            <summary><strong>Come faccio a vedere se un amico Ã¨ online?</strong></summary>
            <p>Vai nella sezione <strong>Online</strong>: ogni utente ha un'icona accanto al nome che indica lo stato (verde = online, rosso = non disturbare, grigio = offline).</p>
        </details>
        <details>
            <summary><strong>Chi puÃ² creare un team?</strong></summary>
            <p>Chiunque! Appena crei un team, diventi automaticamente Admin e puoi invitare altri utenti.</p>
        </details>
        <details>
            <summary><strong>Un membro puÃ² eliminare i task del team?</strong></summary>
            <p>SÃ¬, i membri possono creare, modificare e completare i task del team, ma solo l'admin puÃ² gestire i membri o eliminare l'intero team.</p>
        </details>
        <details>
            <summary><strong>Posso cambiare stato da "non disturbare" a "online"?</strong></summary>
            <p>SÃ¬, basta andare nel tuo <strong>Profilo</strong> e selezionare lo stato desiderato.</p>
        </details>
        <details>
            <summary><strong>Se rifiuto una richiesta di amicizia, l'altro utente lo sa?</strong></summary>
            <p>No, non riceverÃ  alcuna notifica. Semplicemente la richiesta verrÃ  rimossa dalla tua lista.</p>
        </details>
    </section>

</div>
{% endblock %}

{% block scripts %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/css/shepherd.css" />
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/js/shepherd.min.js"></script>
    <script src="{% static 'js/tour.js' %}"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        #scrollTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            font-size: 18px;
            border: none;
            outline: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            padding: 14px;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            display: none;
            transition: opacity 0.3s ease;
        }
        #scrollTopBtn:hover {
            background-color: #0056b3;
        }
        #scrollTopBtn i {
            width: 20px;
            height: 20px;
        }
    </style>
    <script>
        // Scroll morbido per indice
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute("href")).scrollIntoView({
                    behavior: "smooth"
                });
            });
        });

        // Bottone scroll top
        const scrollBtn = document.getElementById("scrollTopBtn");
        scrollBtn.addEventListener("click", () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
        window.onscroll = () => {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollBtn.style.display = "block";
                scrollBtn.style.opacity = 1;
            } else {
                scrollBtn.style.opacity = 0;
                scrollBtn.style.display = "none";
            }
        };

        // Inizializza le icone Lucide
        lucide?.createIcons?.();
    </script>
{% endblock %}
