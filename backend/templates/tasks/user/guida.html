{% extends 'base/user_base.html' %}
{% load static %}
{% block content %}
<div class="guida-page">

    <!-- Bottone per tornare in alto con icona Lucide -->
    <button id="scrollTopBtn" title="Torna su">
        <i data-lucide="arrow-up"></i>
    </button>

    <!-- Indice cliccabile -->
    <section class="guida-blocco">
        <h2>ğŸ“˜ Guida all'app ToDo</h2>
        <p>Benvenuto! Usa l'indice qui sotto per navigare la guida:</p>
        <ul>
            <li>ğŸ¯ <a href="#tour">Tour interattivo</a></li>
            <li>ğŸ’ <a href="#cosetodo">Cos'Ã¨ ToDo</a></li>
            <li>ğŸš€ <a href="#comeusarla">Come usare tutte le funzionalitÃ </a></li>
            <li>ğŸ“… <a href="#calendario">Il calendario</a></li>
            <li>ğŸ›  <a href="#funzioni">FunzionalitÃ  principali</a></li>
            <li>ğŸ” <a href="#sicurezza">Sicurezza</a></li>
            <li>ğŸ“± <a href="#dispositivi">AccessibilitÃ </a></li>
            <li>ğŸ“¬ <a href="#supporto">Supporto</a></li>
            <li>ğŸ§­ <a href="#prossime">Prossime funzionalitÃ </a></li>
            <li>â“ <a href="#faq">FAQ</a></li>
        </ul>
        <a href="{% url 'tasks:home' %}" class="btn-admin">ğŸ  Torna alla Home</a>
    </section>

    <section class="guida-blocco" id="tour">
        <h3>ğŸ¯ Ripeti il tour interattivo</h3>
        <p>Hai bisogno di un ripasso? Clicca qui sotto per rivedere il tour guidato dell'app!</p>
        <a href="{% url 'tasks:home' %}?tour=1" class="btn-admin">ğŸ”„ Avvia il tour</a>
        <ul>
            <li>ğŸ“‹ Crea le tue liste di attivitÃ  in pochi tap</li>
            <li>ğŸ“Œ Organizza le attivitÃ  per prioritÃ  e scadenza</li>
            <li>ğŸ”” Ricevi promemoria intelligenti</li>
            <li>ğŸ—‚ Personalizza e filtra come preferisci</li>
        </ul>
        <p>â¡ <a href="#comeusarla">Approfondisci nella sezione "Come usarla"</a></p>
    </section>

    <section class="guida-blocco" id="cosetodo">
        <h3>ğŸ’ Cos'Ã¨ ToDo</h3>
        <p>ToDo Ã¨ la tua assistente digitale per l'organizzazione personale. Con un'interfaccia semplice e intuitiva, ti aiuta a gestire attivitÃ , scadenze e obiettivi. Tutto Ã¨ pensato per essere accessibile ovunque, con il massimo controllo e senza stress.</p>
        <p><strong>PerchÃ© usare ToDo?</strong><br>Con ToDo puoi tenere traccia di tutto ciÃ² che devi fare: dal lavoro quotidiano alla lista della spesa, dai progetti importanti ai promemoria personali.</p>
        <p><strong>Esempi d'uso:</strong></p>
        <ul>
            <li>ğŸ›’ Lista spesa settimanale</li>
            <li>ğŸ“š Organizzare i compiti scolastici</li>
            <li>ğŸ“† Pianificare eventi o appuntamenti</li>
            <li>ğŸ§˜ AttivitÃ  quotidiane personali o di benessere</li>
        </ul>
    </section>

    <section class="guida-blocco" id="comeusarla">
        <h3>ğŸš€ Come usare tutte le funzionalitÃ  al meglio</h3>

        <h4>ğŸ“ Aggiungere e gestire attivitÃ </h4>
        <ul>
            <li>Tocca il pulsante <strong>+</strong> in basso</li>
            <li>Scrivi un titolo chiaro (es. "Inviare fattura")</li>
            <li>Imposta una prioritÃ  e una scadenza</li>
            <li>Salva!</li>
        </ul>
        <div class="guida-tip">ğŸ’¡ <strong>Consiglio:</strong> usa titoli con verbi per trovarli meglio (es. "Studiare matematica")</div>

        <h4>ğŸ“… Usare il calendario</h4>
        <p>La vista calendario ti mostra tutte le attivitÃ  distribuite nel mese. Colori diversi ti aiutano a distinguere le prioritÃ . Clicca su un'attivitÃ  per modificarla rapidamente.</p>

        <h4>â° Impostare promemoria</h4>
        <p>Quando crei un'attivitÃ , puoi ricevere notifiche all'orario che preferisci. Ricorda di autorizzare le notifiche sul dispositivo!</p>
        <div class="guida-tip">ğŸ”” <strong>Nota:</strong> puoi impostare notifiche giornaliere anche per attivitÃ  ricorrenti.</div>

        <h4>âœ… Completare e riaprire attivitÃ </h4>
        <p>Cliccando sulla spunta puoi segnare l'attivitÃ  come completata. Se cambi idea, puoi ripristinarla in ogni momento.</p>

        <h4>ğŸ§  Consigli utili</h4>
        <ul>
            <li>Filtra per prioritÃ  se hai troppi task</li>
            <li>Usa la ricerca per trovare rapidamente vecchie attivitÃ </li>
            <li>Controlla ogni mattina la scadenza giornaliera</li>
        </ul>
    </section>

    <section class="guida-blocco" id="calendario">
        <h3>ğŸ“… Il potere del calendario</h3>
        <p>Il calendario integrato mostra tutti i tuoi task in formato mensile. I colori indicano la prioritÃ . Clicca su ogni evento per modificarlo al volo.</p>
    </section>

    <section class="guida-blocco" id="funzioni">
        <h3>ğŸ›  FunzionalitÃ  principali</h3>
        <ul>
            <li><strong>Nuova attivitÃ </strong>: Inserisci titolo, scadenza, prioritÃ  e salva</li>
            <li><strong>Filtri</strong>: Visualizza solo attivitÃ  completate, da fare o urgenti</li>
            <li><strong>Modifica</strong>: Cambia attivitÃ  in ogni momento</li>
            <li><strong>Profilo</strong>: Gestisci i tuoi dati personali</li>
        </ul>
    </section>

    <section class="guida-blocco" id="sicurezza">
        <h3>ğŸ” Sicurezza dei dati</h3>
        <p>Solo tu puoi vedere e gestire le tue attivitÃ . Ogni azione Ã¨ protetta dal login e i dati sono associati al tuo account personale.</p>
    </section>

    <section class="guida-blocco" id="dispositivi">
        <h3>ğŸ“± AccessibilitÃ  ovunque</h3>
        <p>ToDo funziona su tutti i dispositivi connessi a internet. Nessuna app da installare: ti basta un browser!</p>
    </section>

    <section class="guida-blocco" id="supporto">
        <h3>ğŸ“¬ Supporto</h3>
        <p>Dubbi o problemi? Scrivici a <a href="mailto:support@todoapp.dev">support@todoapp.dev</a></p>
    </section>

    <section class="guida-blocco" id="prossime">
        <h3>ğŸ§­ Prossime funzionalitÃ </h3>
        <ul>
            <li>Task condivisi con amici/colleghi</li>
            <li>Tag e categorie personalizzabili</li>
            <li>Notifiche via email e push</li>
            <li>Temi grafici e modalitÃ  notturna</li>
            <li>Esportazione e backup</li>
        </ul>
    </section>

    <section class="guida-blocco" id="faq">
        <h3>â“ Domande frequenti (FAQ)</h3>
        <details>
            <summary><strong>Posso usare ToDo su piÃ¹ dispositivi?</strong></summary>
            <p>SÃ¬, basta usare lo stesso account da qualsiasi browser.</p>
        </details>
        <details>
            <summary><strong>Posso condividere le attivitÃ ?</strong></summary>
            <p>La funzione Ã¨ in arrivo! Presto potrai collaborare in tempo reale.</p>
        </details>
        <details>
            <summary><strong>ToDo funziona offline?</strong></summary>
            <p>Non ancora, ma stiamo lavorando per permetterlo in futuro.</p>
        </details>
    </section>

</div>
{% endblock %}

{% block scripts %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/css/shepherd.css" />
    <script src="https://cdn.jsdelivr.net/npm/shepherd.js@8.3.1/dist/js/shepherd.min.js"></script>
    <script src="{% static 'js/tour.js' %}"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        #scrollTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            font-size: 18px;
            border: none;
            outline: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            padding: 14px;
            border-radius: 50%;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            display: none;
            transition: opacity 0.3s ease;
        }
        #scrollTopBtn:hover {
            background-color: #0056b3;
        }
        #scrollTopBtn i {
            width: 20px;
            height: 20px;
        }
    </style>
    <script>
        // Scroll morbido per indice
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener("click", function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute("href")).scrollIntoView({
                    behavior: "smooth"
                });
            });
        });

        // Bottone scroll top
        const scrollBtn = document.getElementById("scrollTopBtn");
        scrollBtn.addEventListener("click", () => {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
        window.onscroll = () => {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                scrollBtn.style.display = "block";
                scrollBtn.style.opacity = 1;
            } else {
                scrollBtn.style.opacity = 0;
                scrollBtn.style.display = "none";
            }
        };

        // Inizializza le icone Lucide
        lucide?.createIcons?.();
    </script>
{% endblock %}
